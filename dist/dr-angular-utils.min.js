/**
 * dr-angular-utils
 * @version v0.0.6 - 2014-03-24
 * @link https://github.com/Design-Royale/dr-angular-utils
 * @author Design Royale <>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("drUtils",[]).constant("drUtils",{preloadImage:function(a,b){var c=b.defer(),d=new Image;return d.onload=function(){c.resolve(d)},d.onerror=function(){c.reject(new Error("Couldn't load "+a))},d.src=a,c.promise},preloadImages:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],f=this.preloadImage(e,b);c.push(f)}return b.all(c)},safeApply:function(a,b){var c=a.$root.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():a.$apply(b)},goBack:function(){window.history.back()},sizeOfObject:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},setupRequestAnimationFrame:function(){window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)}},ie:function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a},rangedArray:function(a,b){for(var c=[],d=a;b>d;d++)c.push(d);return c},randomArray:function(a,b){var c,d,e=this.rangedArray(a,b),f=e.length;if(0===f)return e;for(;--f;)c=Math.floor(Math.random()*(f+1)),d=e[f],e[f]=e[c],e[c]=d;return e},extendSVGElement:function(){"undefined"!=typeof SVGElement&&(SVGElement.prototype.hasClass=function(a){return new RegExp("(\\s|^)"+a+"(\\s|$)").test(this.getAttribute("class"))},SVGElement.prototype.addClass=function(a){this.hasClass(a)||this.setAttribute("class",this.getAttribute("class")+" "+a)},SVGElement.prototype.removeClass=function(a){if(this.hasClass(a)){var b=this.getAttribute("class").replace(new RegExp("(\\s|^)"+a+"(\\s|$)","g"),"$2");b=b||"",this.setAttribute("class",b)}},SVGElement.prototype.toggleClass=function(a){this.hasClass(a)?this.removeClass(a):this.addClass(a)})},TO_RADIANS:.017453292519943295,TO_DEGREES:57.29577951308232,rangedNum:function(a,b,c){return Math.min(Math.max(a,b),c)},log:function(a,b){return Math.log(b)/Math.log(a)},positiveModulo:function(a,b){return(a%b+b)%b}});